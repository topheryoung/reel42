<button class="control-btn text-mode-button" id="textToggle">
  text (t)
</button>

<script is:inline>
  const applyTextMode = (isTextOnly) => {
    const element = document.documentElement;
    const button = document.getElementById("textToggle");

    if (isTextOnly) {
      element.classList.add("text-mode");
      button.classList.add("is-active");
    } else {
      element.classList.remove("text-mode");
      button.classList.remove("is-active");
    }

    localStorage.setItem("text-mode", isTextOnly);
  };

  const handleTextToggle = () => {
    const isCurrentlyTextMode = document.documentElement.classList.contains("text-mode");
    applyTextMode(!isCurrentlyTextMode);
  };

  const savedTextMode = localStorage.getItem("text-mode") === "true";
  applyTextMode(savedTextMode);

  document.getElementById("textToggle").addEventListener("click", handleTextToggle);

  document.addEventListener("keydown", (event) => {
    if (event.key.toLowerCase() === "t") {
      handleTextToggle();
    }
  });
</script>
